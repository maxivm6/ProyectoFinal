{% extends "base.html" %}
{% load bootstrap_tags %}
{% load static %}

{% block content %}
    <!--
    <div class="row justify-content-center text-center">
        <div class="col-4">
            <table class="table">
                <thead style="font-weight: 100; color: white;">
                    <tr><h1 style="color: white;">Carrito</h1>
                        <th scope="col"><h6>Producto</h6></th>
                        <th scope="col"><h6>Unidades</h6></th>
                        <th scope="col"><h6>Precio</h6></th>
                    </tr>
                </thead>
                <tbody>
                    
                            {% if request.session.carrito.items %}
                                {% for key, value in request.session.carrito.items %}
                            <tr class="text-center text-light">
                                <td>{{value.nombre}}</td>
                                                                   
                                    <td>
                                        <a class="btn btn-primary" href="{% url 'carrito:restar' value.producto_id %}">-</a>
                                        <label>{{value.cantidad}}</label>
                                        <a class="btn btn-primary" href="{% url 'carrito:agregar' value.producto_id %}">+</a>
                                    </td>                                   
                                
                                
                                <td>{{value.precio}}</td>
                            </tr>
                            {% endfor %}
                        {% else %}

                            <tr>
                                <td colspan="3">
                                    <div class="alert alert-danger text-center">Carrito Vacío</div>
                                </td>
                            </tr>
                        {% endif %}                           
                </tbody>
                <tfoot>
                    <tr class="text-center">
                        <td colspan="3">
                            <div>${{importe_total_carrito}}</div>
                        </td>
                    </tr>

                </tfoot>
            </table>
        </div>
    </div>
    -->

    <div class="container" style="width: 80%; min-height: 300px; max-height: 300px;">
        
        {% if request.session.carrito.items %}
            {% for key, value in request.session.carrito.items %}
        
                <div class="row text-center">
                    <div class="col-4 bg-info">
                        <div class="col bg-danger" style="max-height: 200px; min-height: 200px;">
                            <img src="{{value.imagen}}" alt="producto">
                        </div>
                        <div class="col" style="max-height: 100px; min-height: 100px;">
                            {{value.precio}}
                        </div>
                    </div>
                    <div class="col-8">
                        <h2>{{value.nombre}}</h2>
                        <p>{{value.descripcion}}</p>
                        <div class="col">
                            <a class="btn btn-primary" href="{% url 'carrito:restar' value.producto_id %}">-</a>
                            <label>{{value.cantidad}}</label>
                            <a class="btn btn-primary" href="{% url 'carrito:agregar' value.producto_id %}">+</a>
                        </div>
                        <div class="col" style="max-height: 100px; min-height: 100px;">opciones</div>
                    </div>
                        </div>
            {% endfor %}

        {% else %}

            <tr>
                <td colspan="3">
                    <div class="alert alert-danger text-center" style="margin-top: 6em;">Carrito Vacío</div>
                </td>
            </tr>

        {% endif %}
        
    </div>

{% endblock %}